<?xml version="1.0" encoding="utf-8"?>
<mx:VBox xmlns:fx="http://ns.adobe.com/mxml/2009" 
		  xmlns:s="library://ns.adobe.com/flex/spark" 
		  xmlns:mx="library://ns.adobe.com/flex/mx" width="100%" height="100%" creationComplete="on_creation_complete(event)">
<fx:Script>
<![CDATA[
	import flash.utils.setTimeout;
	
	import mx.events.FlexEvent;

protected function on_creation_complete(event:FlexEvent):void
{
	update(Engine.engine.sql_log);
}

protected function update(s:String):Boolean
{
	tx.text = s;
	callLater(scroll);
	setTimeout(scroll, 100);
	return true;
}

protected function scroll():void
{
//	tx.verticalScrollPosition = 0x7FFFFFFF;//tx.maxVerticalScrollPosition;	
	tx.scrollToRange(int.MAX_VALUE, int.MAX_VALUE); 
}
	
]]>
</fx:Script>

<mx:HBox backgroundColor="#000000" width="100%" height="100%">
	<s:TextArea id="tx" width="100%" height="100%" color="#000000" editable="false"  />
</mx:HBox>	

<s:HGroup width="100%" verticalAlign="middle">
	<s:Button label="Очистить" click="{Engine.engine.sql_log = ''}" />
</s:HGroup>
	
<fx:Declarations>
<fx:Boolean>{update(Engine.engine.sql_log)}</fx:Boolean>

</fx:Declarations>
</mx:VBox>
